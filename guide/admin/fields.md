# CMS. Поля

В системе есть три типа полей:
- **cell** - отображение значений в списках и таблицах
- **field** - поля пользовательского ввода на детальных страницах
- **filter** - фильтры для листинга

Поля cell, field и filter имеют бэкенд php-классы, расположенные тут:
- **modules/admin/classes/cells**
- **modules/admin/classes/fields**
- **modules/admin/classes/filter**

Поля **cell** и **field** имеют соответствующие vue-компоненты, расположенные тут:
- **modules/admin/assets/AdminAsset/js/vue/ui** (префиксы **VueCell** и **VueField**)

Поля **filter** построены над полями **field** и не имеют собственных vue-компонентов.

Если заглянуть в абстракцию **Cell** или **Field**, то среди данных поля можно увидеть параметр **component**.
Этот параметр сообщает фронтенду какой компонент рендерить для данного поля. Таким образом происходит взаимодействие.

При передаче json-данных из CRUD-контроллера (AbstractEntityController) данные всех полей собираются и передаются
на фронт (для подробного изучения см actionList, actionDetail).

Поля Field заполняются соответствующими значениями
сущности (и ошибками валидации, при их наличии).

Поля Cell не заполняются значениями, так как определяют количество, название и тип столбцов.

Пример рендеринга Cell на фронтенде можно посмотреть в vue-компоненте: **VueEntityList**
Пример рендеринга Field на фронтенде можно посмотреть в vue-компоненте: **VuePageEntityDetail** - тут есть один нюанс.
Поля Field в отличии от Cell на фронте обернуты в компонент **VueField**, который обеспечивает поддержку мультиязычности.

Поля Cell и Field имеют возможность обрабатывать вложенные поля. Для этого необходимо в name передать путь до переменной,
разделенный точкой. Например: **'preferences.settings.enabled'** будет обрабатывать поле **$entity->preferences['settings']['enabled']**.

## Поля листинга (Cells)

На текущий момент есть следующие поля: **string, checkbox, date, dateTime, sex**

Для создания **кастомного** поля, необходимо:
- Создать бэкенд-класс, унаследованный от CellAbstract, либо его наследников
- Создать vue-компонент на подобие VueCell* и указать его название в бэкенд-классе.
- Подключить vue-компонент через ассет куба.

## Поля детальной страницы (Fields)

На текущий момент есть следующие поля: **string, number, date, dateTime, checkbox, select,
                                       textarea, redactor, html, file, image, tags**
У каждого поля доступен свой набор доп. параметров через fluent-интерфейс.
Так, например, некоторые поля можно дизаблить, строкам устанавливать фильтры и маски, картинки делать множественными итд.

Для создания **кастомного** поля, необходимо:
- Создать бэкенд-класс, унаследованный от FieldAbstract, либо его наследников
- Создать vue-компонент на подобие VueField* и указать его название в бэкенд-классе.
- Подключить vue-компонент через ассет куба.

## Поля фильтров (Filters)

На текущий момент есть следующие поля: **string, select и boolean**
Поле string может принимать 3-м аргументом режим сравнения:
- FilterFactory::MODE_EQUAL - точное совпадение
- FilterFactory::MODE_LIKE - частичное совпадение

Для создания **кастомного** поля, необходимо:
- Создать бэкенд-класс, унаследованный от FieldAbstract, либо его наследников
- Передать его параметром в FilterField, который в свою очередь указать в конфиге сущности
- Сделать необходимый функционал фильтрации в репозитории

Далее: [CMS. Генератор кубов](generator.md)<br>
Вверх: [Оглавление](../index.md)
