# Права доступа

Для управления иерархией прав доступа используется библиотека [Web Complete RBAC](https://github.com/web-complete/rbac).

Несмотря на то, что библиотека позволяет хранить настройки персистентно (FileResource),
в платформе используется runtime-конфигурация **config/rbac.php**:
```php
<?php

return [
    'permissions' => [
        'admin' => [
            'description' => 'Полное администрирование',
            'permissions' => [
                'admin:login' => ['description' => 'Вход в CMS'],
                'admin:cubes' => ['description' => 'Управление в CMS'],
            ],
        ],
    ],
    'roles' => [
        'admin' => [
            'description' => 'Администратор',
            'permissions' => ['admin'],
        ],
        'manager' => [
            'description' => 'Контент-менеджер',
            'permissions' => ['admin:login'],
        ]
    ],
];
```

Администраторское управление RBAC не предусмотрено и подразумевается, что разработчик сам настраивает
необходимые роли и права, специфичные для проекта. В интерфейсе CMS у пользователя можно указать одну
или несколько ролей, сконфигурированных разработчиком.

Как роли, так и права поддерживают вложенность.

Важно понимать, что роли - это сгруппированные наборы прав и в коде проверять необходимо именно права:
```php
if ($user->can('my:permission') {
    ...
}
```

Далее: [Обработка ошибок](errors.md)<br>
Вверх: [Оглавление](index.md)
